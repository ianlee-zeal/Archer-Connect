<div class="row">
  <ng-container *ngIf="stagesChart">
    <div class="col-4 pie-chart">
      <div class="pie-chart__header">
        <span class="chart-name">Claimants by Overall QSF Status</span>
      </div>
      <div class="row pie-chart__chart">

        <fusioncharts width="100%" height="300" class="w-100" dataFormat="json" type="doughnut2d"
          placeholder="Loading..." [dataSource]="stagesChart">
        </fusioncharts>
      </div>
    </div>
  </ng-container>
  <ng-container *ngIf="phasesChart">
    <div class="col-4 pie-chart">
      <div class="pie-chart__header">
        <span class="chart-name">Attorney Payment Status by Claimant</span>
      </div>
      <div class="row pie-chart__chart">

        <fusioncharts width="100%" height="300" class="w-100" dataFormat="json" type="doughnut2d"
          placeholder="Loading..." [dataSource]="phasesChart">
        </fusioncharts>
      </div>
    </div>
  </ng-container>
  <ng-container *ngIf="totalPaymentChart">
    <div class="col-4 pie-chart">
      <div class="row pie-chart__header">
        <div class="col-9">
          <span class="chart-name">Total Payments</span><br />
          <span *ngIf="totalPaymentChartSummary" class="chart-subtitle">Total Paid: {{totalPaymentChartSummary.total |
            extendedCurrency}}</span>
        </div>
      </div>
      <div class="row pie-chart__chart">
        <fusioncharts width="100%" height="270" class="w-100" dataFormat="json" type="line" placeholder="Loading..."
          [dataSource]="totalPaymentChart">
        </fusioncharts>
      </div>
    </div>
  </ng-container>
</div>
<ng-container *ngIf="stagesChart && phasesChart">
  <div class="row mt-2">
    <div class="col-12">
      <div class="chart-combined-legend-container d-flex flex-wrap justify-content-center">
        <div class="phase-legend-item" [class.legend-item-small]="getCombinedLegend().length > 6"
          *ngFor="let item of getCombinedLegend()">
          <span class="legend-icon" [ngStyle]="{ background: item.color }"></span>
          <span class="legend-name" [title]="item.name">{{ item.name }}</span>
        </div>
      </div>
    </div>
  </div>
</ng-container>